(self.webpackChunkcontentReportReact=self.webpackChunkcontentReportReact||[]).push([[415],{415:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>se});var a=n(3119),r=n(2816),o=n(7255),i=n(2207),l=n.n(i),s=n(8388),c=n(845),d=n.n(c),u=n(5556),p=n.n(u),m=n(7375),y=n(6761),g=n(2505),b=n.n(g);function f(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,a)}return n}function h(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?f(Object(n),!0).forEach(function(t){(0,s.A)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):f(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var v="/contentReportReact",x=function(e){var t=e.siteKey;return t?"/sites/".concat(t):""},C=[{value:"pages",labelKey:"fields.typeSearch.pages"},{value:"content",labelKey:"fields.typeSearch.content"}],w=[{value:"created",labelKey:"fields.typeAuthor.created"},{value:"modified",labelKey:"fields.typeAuthor.modified"}],k=[{id:"overview",labelKey:"menu.overview",descriptionKey:"descriptions.overview",type:"overview",category:"overview",fields:[]},{id:"20",labelKey:"menu.byAuthorAndDate",descriptionKey:"descriptions.byAuthorAndDate",type:"legacy",category:"content",fields:[{name:"typeSearch",type:"radio",labelKey:"fields.typeSearch.label",options:C,defaultValue:"pages",uiOnly:!0},{name:"pathTxt",type:"path",labelKey:"fields.path",defaultValue:x,required:!0,includeIfEmpty:!0},{name:"searchAuthor",type:"checkbox",labelKey:"fields.searchByAuthor",defaultValue:!1,includeIfEmpty:!0},{name:"typeAuthorSearch",type:"radio",labelKey:"fields.typeAuthorSearch",options:w,defaultValue:"created",dependsOn:"searchAuthor",dependsValue:!0,uiOnly:!0},{name:"searchUsername",type:"userSelect",labelKey:"fields.username",placeholderKey:"fields.selectUser",dependsOn:"searchAuthor",dependsValue:!0,includeIfEmpty:!0},{name:"searchByDate",type:"checkbox",labelKey:"fields.searchByDate",defaultValue:!1,includeIfEmpty:!0},{name:"typeDateSearch",type:"radio",labelKey:"fields.typeDateSearch.label",options:[{value:"created",labelKey:"fields.typeDateSearch.created"},{value:"modified",labelKey:"fields.typeDateSearch.modified"}],defaultValue:"created",dependsOn:"searchByDate",dependsValue:!0,uiOnly:!0},{name:"dateBegin",type:"date",labelKey:"fields.dateBegin",dependsOn:"searchByDate",dependsValue:!0,includeIfEmpty:!0},{name:"dateEnd",type:"date",labelKey:"fields.dateEnd",dependsOn:"searchByDate",dependsValue:!0,includeIfEmpty:!0}],columns:[{key:"title",labelKey:"reports.byAuthorAndDate.columns.title",sortable:!0},{key:"path",labelKey:"reports.byAuthorAndDate.columns.path",sortable:!0},{key:"type",labelKey:"reports.byAuthorAndDate.columns.type",sortable:!0},{key:"created",labelKey:"reports.byAuthorAndDate.columns.created",sortable:!0,type:"date"},{key:"modified",labelKey:"reports.byAuthorAndDate.columns.modified",sortable:!0,type:"date"},{key:"published",labelKey:"reports.byAuthorAndDate.columns.published",sortable:!0,type:"boolean"},{key:"locked",labelKey:"reports.byAuthorAndDate.columns.locked",sortable:!0,type:"boolean"}]},{id:"1",labelKey:"menu.byAuthor",descriptionKey:"descriptions.byAuthor",type:"legacy",fields:[{name:"typeSearch",type:"radio",labelKey:"fields.typeSearch.label",options:C,defaultValue:"pages"},{name:"typeAuthor",type:"radio",labelKey:"fields.typeAuthor.label",options:w,defaultValue:"created"},{name:"pathTxt",type:"path",labelKey:"fields.path",defaultValue:x,required:!0}]},{id:"2",labelKey:"menu.byAllDate",descriptionKey:"descriptions.byAllDate",type:"legacy",fields:[{name:"typeAuthor",type:"radio",labelKey:"fields.typeAuthor.label",options:w,defaultValue:"created"},{name:"pathTxt",type:"path",labelKey:"fields.path",defaultValue:x,required:!0}]},{id:"3",labelKey:"menu.beforeDate",type:"legacy",fields:[{name:"pathTxt",type:"path",labelKey:"fields.path",defaultValue:x,required:!0},{name:"date",type:"date",labelKey:"fields.date",required:!0,includeIfEmpty:!1}]},{id:"4",labelKey:"menu.byType",type:"legacy",fields:[{name:"pathTxt",type:"path",labelKey:"fields.path",defaultValue:x,required:!0}]},{id:"5",labelKey:"menu.byTypeDetailed",type:"legacy",fields:[{name:"pathTxt",type:"path",labelKey:"fields.path",defaultValue:x,required:!0}]},{id:"6",labelKey:"menu.byStatus",type:"legacy",fields:[{name:"pathTxt",type:"path",labelKey:"fields.path",defaultValue:x,required:!0}]},{id:"7",labelKey:"menu.byLanguage",type:"legacy",fields:[]},{id:"8",labelKey:"menu.byLanguageDetailed",type:"legacy",fields:[{name:"reqLang",type:"text",labelKey:"fields.language",defaultValue:function(e){return e.language||""}}]},{id:"23",labelKey:"menu.references",descriptionKey:"descriptions.references",type:"legacy",category:"content",fields:[{name:"pathTxtOrigin",type:"path",labelKey:"fields.originPath",defaultValue:x,required:!0},{name:"pathTxtDestination",type:"path",labelKey:"fields.destinationPath",defaultValue:x,required:!0}],columns:[{key:"type",labelKey:"reports.references.columns.type",sortable:!0},{key:"referencedPath",labelKey:"reports.references.columns.referencedPath",sortable:!0},{key:"referencePath",labelKey:"reports.references.columns.referencePath",sortable:!0},{key:"lastModified",labelKey:"reports.references.columns.lastModified",sortable:!0,type:"date"},{key:"link",labelKey:"reports.references.columns.link",sortable:!1,type:"link"}]},{id:"22",labelKey:"menu.wipContent",descriptionKey:"descriptions.wipContent",type:"legacy",category:"content",fields:[{name:"typeSearch",type:"radio",labelKey:"fields.typeSearch.label",options:C,defaultValue:"pages"},{name:"pathTxt",type:"path",labelKey:"fields.path",defaultValue:x,required:!0}],columns:[{key:"title",labelKey:"reports.wipContent.columns.title",sortable:!0},{key:"type",labelKey:"reports.wipContent.columns.type",sortable:!0},{key:"wipStatus",labelKey:"reports.wipContent.columns.wipStatus",sortable:!0},{key:"path",labelKey:"reports.wipContent.columns.path",sortable:!0},{key:"page",labelKey:"reports.wipContent.columns.page",sortable:!0,type:"link"}]},{id:"16",labelKey:"menu.contentWaitingPublication",descriptionKey:"descriptions.contentWaitingPublication",type:"legacy",category:"content",fields:[],columns:[{key:"title",labelKey:"reports.contentWaitingPublication.columns.title",sortable:!0},{key:"type",labelKey:"reports.contentWaitingPublication.columns.type",sortable:!0},{key:"path",labelKey:"reports.contentWaitingPublication.columns.path",sortable:!0},{key:"workflowStarted",labelKey:"reports.contentWaitingPublication.columns.workflowStarted",sortable:!0,type:"date"},{key:"workflowName",labelKey:"reports.contentWaitingPublication.columns.workflowName",sortable:!0},{key:"workflowType",labelKey:"reports.contentWaitingPublication.columns.workflowType",sortable:!0}]},{id:"24",labelKey:"menu.markedForDeletion",type:"legacy",category:"content",descriptionKey:"descriptions.markedForDeletion",fields:[{name:"pathTxt",type:"path",labelKey:"fields.path",defaultValue:x,required:!0},{name:"typeSearch",type:"radio",labelKey:"fields.typeSearch.label",options:C,defaultValue:"pages"}],columns:[{key:"nodeDisplayableName",labelKey:"reports.markedForDeletion.columns.title",sortable:!0},{key:"nodeType",labelKey:"reports.markedForDeletion.columns.type",sortable:!0},{key:"nodePath",labelKey:"reports.markedForDeletion.columns.path",sortable:!0},{key:"nodeUsedInPagePath",labelKey:"reports.markedForDeletion.columns.page",sortable:!0,type:"link"},{key:"subNodesMarkedForDeletion",labelKey:"reports.markedForDeletion.columns.subNodesDeleted",sortable:!0},{key:"publishStatus",labelKey:"reports.markedForDeletion.columns.published",sortable:!0}]},{id:"10",labelKey:"menu.pagesWithoutTitle",type:"i18n",category:"languages",descriptionKey:"descriptions.pagesWithoutTitle",fields:[]},{id:"21",labelKey:"menu.pagesUntranslated",type:"legacy",category:"languages",descriptionKey:"descriptions.pagesUntranslated",fields:[{name:"selectLanguageBU",type:"languageSelect",labelKey:"fields.language",defaultValue:function(e){return e.language||""},required:!0},{name:"selectTypeSearch",type:"radio",labelKey:"fields.typeSearch.label",options:C,defaultValue:"pages"},{name:"pathTxt",type:"path",labelKey:"fields.path",defaultValue:x,required:!0}],columns:[{key:"title",labelKey:"reports.pagesUntranslated.columns.title",sortable:!0},{key:"type",labelKey:"reports.pagesUntranslated.columns.type",sortable:!0},{key:"path",labelKey:"reports.pagesUntranslated.columns.path",sortable:!0,type:"link"},{key:"date",labelKey:"reports.pagesUntranslated.columns.date",sortable:!0,type:"date"}]},{id:"25",labelKey:"menu.liveContents",type:"legacy",category:"visibility",descriptionKey:"descriptions.liveContents",fields:[{name:"searchPath",type:"path",labelKey:"fields.searchPath",defaultValue:x,required:!0}],columns:[{key:"name",labelKey:"reports.liveContents.columns.name",sortable:!0},{key:"path",labelKey:"reports.liveContents.columns.path",sortable:!0,type:"link"},{key:"type",labelKey:"reports.liveContents.columns.type",sortable:!0,type:"html"},{key:"listOfConditions",labelKey:"reports.liveContents.columns.listOfConditions",sortable:!0,type:"html",noWrap:!1},{key:"isConditionMatched",labelKey:"reports.liveContents.columns.isConditionMatched",sortable:!0},{key:"currentStatus",labelKey:"reports.liveContents.columns.currentStatus",sortable:!0}]},{id:"26",labelKey:"menu.expiredContents",type:"legacy",category:"visibility",descriptionKey:"descriptions.expiredContents",fields:[{name:"searchPath",type:"path",labelKey:"fields.searchPath",defaultValue:x,required:!0}],columns:[{key:"name",labelKey:"reports.expiredContents.columns.name",sortable:!0},{key:"path",labelKey:"reports.expiredContents.columns.path",sortable:!0,type:"link"},{key:"type",labelKey:"reports.expiredContents.columns.type",sortable:!0,type:"html"},{key:"expiresOn",labelKey:"reports.expiredContents.columns.expiresOn",sortable:!0,type:"date"}]},{id:"27",labelKey:"menu.futureContents",type:"legacy",category:"visibility",descriptionKey:"descriptions.futureContents",fields:[{name:"searchPath",type:"path",labelKey:"fields.searchPath",defaultValue:x,required:!0}],columns:[{key:"name",labelKey:"reports.futureContents.columns.name",sortable:!0},{key:"path",labelKey:"reports.futureContents.columns.path",sortable:!0,type:"link"},{key:"type",labelKey:"reports.futureContents.columns.type",sortable:!0,type:"html"},{key:"liveDate",labelKey:"reports.futureContents.columns.liveDate",sortable:!0,type:"date"}]},{id:"11",labelKey:"menu.pagesWithoutKeywords",type:"legacy",category:"metadata",descriptionKey:"descriptions.pagesWithoutKeywords",fields:[],columns:[{key:"nodeTitle",labelKey:"reports.pagesWithoutKeywords.columns.title",sortable:!0},{key:"nodePath",labelKey:"reports.pagesWithoutKeywords.columns.pagePath",sortable:!0,type:"link"}]},{id:"12",labelKey:"menu.pagesWithoutDescription",type:"i18n",category:"metadata",descriptionKey:"descriptions.pagesWithoutDescription",fields:[],columns:[{key:"path",labelKey:"reports.pagesWithoutDescription.columns.path",sortable:!0,type:"link"}]},{id:"15",labelKey:"menu.lockedContent",type:"legacy",category:"system",descriptionKey:"descriptions.lockedContent",fields:[],columns:[{key:"nodeName",labelKey:"reports.lockedContent.columns.title",sortable:!0},{key:"nodeType",labelKey:"reports.lockedContent.columns.type",sortable:!0,type:"html"},{key:"nodeAuthor",labelKey:"reports.lockedContent.columns.author",sortable:!0},{key:"nodeLockedBy",labelKey:"reports.lockedContent.columns.lockedBy",sortable:!0},{key:"nodeUsedInPagePath",labelKey:"reports.lockedContent.columns.path",sortable:!0,type:"link"}]},{id:"18",labelKey:"menu.customCacheContent",type:"legacy",category:"system",descriptionKey:"descriptions.customCacheContent",fields:[],columns:[{key:"nodeName",labelKey:"reports.customCacheContent.columns.title",sortable:!0},{key:"nodeType",labelKey:"reports.customCacheContent.columns.type",sortable:!0,type:"html"},{key:"expiration",labelKey:"reports.customCacheContent.columns.expiration",sortable:!0},{key:"nodeUsedInPagePath",labelKey:"reports.customCacheContent.columns.path",sortable:!0,type:"link"}]},{id:"19",labelKey:"menu.aclInheritanceBreak",type:"legacy",category:"system",descriptionKey:"descriptions.aclInheritanceBreak",fields:[],columns:[{key:"nodeName",labelKey:"reports.aclInheritanceBreak.columns.title",sortable:!0},{key:"nodePath",labelKey:"reports.aclInheritanceBreak.columns.path",sortable:!0,type:"link"}]}],R=function(){return k.map(function(e){return h(h({},e),{},{pathDefault:x})})},S=n(8557),P=n(691),T=n(1429),E=n.n(T),K=function(e){if(!e)return"-";try{var t=new Date(e);return new Intl.DateTimeFormat("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}).format(t)}catch(t){return e}},A=function(e){var t=!1===e||"false"===e||"False"===e||"0"===e;return!0===e||"true"===e||"True"===e||"1"===e?d().createElement("span",{className:E().booleanTrue},"âœ“"):t?d().createElement("span",{className:E().booleanFalse},"âœ—"):"-"},D=function(e,t,n){var a,r=(null===(a=window.contextJsParameters)||void 0===a?void 0:a.contextPath)||"",o=e.replace("/sites/".concat(t),"");return o=o.startsWith("/")?o.substring(1):o,"".concat(r,"/jahia/jcontent/").concat(t,"/").concat(n||"en","/pages/").concat(o)},q=function(e){var t=e.useCustomColumns,n=e.columns,a=e.sortColumn,r=e.sortDirection,o=e.handleSort,i=e.t,l=e.siteLanguages;return t?n.map(function(e,t){var n=e.isLanguage&&l&&l[e.languageIndex-1]?l[e.languageIndex-1]:i(e.labelKey);return d().createElement(m.TableHeadCell,{key:e.key,className:e.sortable?E().sortableHeader:void 0,onClick:e.sortable?function(){return o(t)}:void 0},d().createElement("span",{className:E().headerContent},n,e.sortable&&a===t&&d().createElement("span",{className:E().sortIcon},"asc"===r?"â–²":"â–¼")))}):[{label:"Title",index:0},{label:"Path",index:1},{label:"Type",index:2},{label:"Created",index:3},{label:"Modified",index:4},{label:"Published",index:5},{label:"Lock",index:6}].map(function(e){var t=e.label,n=e.index;return d().createElement(m.TableHeadCell,{key:t,className:E().sortableHeader,onClick:function(){return o(n)}},d().createElement("span",{className:E().headerContent},t,a===n&&d().createElement("span",{className:E().sortIcon},"asc"===r?"â–²":"â–¼")))})};q.propTypes={useCustomColumns:p().bool.isRequired,columns:p().array,sortColumn:p().number,sortDirection:p().string.isRequired,handleSort:p().func.isRequired,t:p().func.isRequired,siteLanguages:p().arrayOf(p().string)};var L=function(e){var t=e.data,n=e.siteKey,a=e.language,r=e.columns,i=e.reportId,l=e.reportType,s=(0,y.useTranslation)("contentReportReact").t,u=(0,c.useState)(1),p=(0,o.A)(u,2),g=p[0],b=p[1],f=(0,c.useState)(50),h=(0,o.A)(f,2),v=h[0],x=h[1],C=(0,c.useState)(null),w=(0,o.A)(C,2),k=w[0],R=w[1],T=(0,c.useState)("asc"),L=(0,o.A)(T,2),j=L[0],O=L[1];console.log("ReportResultsTable - data:",t),console.log("ReportResultsTable - siteKey:",n),console.log("ReportResultsTable - language:",a),console.log("ReportResultsTable - columns:",r),console.log("ReportResultsTable - reportId:",i),console.log("ReportResultsTable - reportType:",l);var N=(0,c.useMemo)(function(){return"i18n"===l&&null!=t&&t.siteLanguages?t.siteLanguages:null},[l,t]),I=(0,c.useMemo)(function(){if("i18n"===l&&null!=t&&t.data&&t.data.length>0){for(var e=t.data[0],n=[{key:"path",labelKey:"fields.path",sortable:!0,type:"link"}],a=1;a<e.length;a++)n.push({key:"lang_".concat(a),labelKey:"lang_".concat(a),sortable:!0,isLanguage:!0,languageIndex:a});return n}return null},[l,t]),_=r&&r.length>0||"i18n"===l&&I,B=I||r,W=(0,c.useCallback)(function(e,t,r,o){if("date"===t)return K(e);if("boolean"===t)return A(e);if("html"===t)return e?d().createElement("span",{dangerouslySetInnerHTML:{__html:e}}):"-";if("link"===t&&n&&a){if("path"===o&&e){var i=D(e,n,a);return d().createElement("a",{href:i,target:"_blank",rel:"noopener noreferrer",className:E().pathLink},e,d().createElement(P.bs,{size:"small",style:{marginLeft:"4px",verticalAlign:"middle"}}))}var l=e||r[4];if(l){var c=D(l,n,a);return d().createElement("a",{href:c,target:"_blank",rel:"noopener noreferrer",className:E().linkWithIcon},s("result.viewContent"),d().createElement(P.bs,{size:"small",style:{marginLeft:"4px",verticalAlign:"middle"}}))}return"-"}return e||"-"},[n,a,s]),z=(0,c.useCallback)(function(e,t,n){if(null==e)return 1;if(null==t)return-1;if(3===n||4===n){var a=new Date(e),r=new Date(t);return"asc"===j?a-r:r-a}if(5===n||6===n){var o=!0===e||"true"===e||"True"===e||"1"===e?1:0,i=!0===t||"true"===t||"True"===t||"1"===t?1:0;return"asc"===j?o-i:i-o}var l=String(e).toLowerCase(),s=String(t).toLowerCase();return"asc"===j?l.localeCompare(s):s.localeCompare(l)},[j]),V=(0,c.useMemo)(function(){return t&&Array.isArray(t.data)&&null!==k?(0,S.A)(t.data).sort(function(e,t){return z(e[k],t[k],k)}):(null==t?void 0:t.data)||[]},[t,k,z]),U=(0,c.useMemo)(function(){if(!V||!Array.isArray(V))return[];var e=(g-1)*v;return V.slice(e,e+v)},[V,g,v]);return t&&Array.isArray(t.data)&&0!==t.data.length?(console.log("ReportResultsTable - Rendering table with",t.data.length,"rows"),d().createElement("div",{className:E().tableContainer},d().createElement("div",{className:E().resultsHeader},d().createElement("div",{className:E().resultsInfo},d().createElement(m.Typography,{variant:"body",weight:"bold"},t.recordsTotal||0," results found")),d().createElement("div",{className:E().exportButtons},d().createElement(m.Button,{size:"default",variant:"outlined",label:"Export CSV",icon:d().createElement(P.ae,null),onClick:function(){return function(e,t,n){var a=[(n?t.map(function(e){return e.key}):["Title","Path","Type","Created","Modified","Published","Locked"]).join(",")].concat((0,S.A)(e.map(function(e){return e.map(function(e){var t=String(e||"");return t.includes(",")||t.includes('"')?'"'.concat(t.replace(/"/g,'""'),'"'):t}).join(",")}))).join("\n"),r=new Blob([a],{type:"text/csv;charset=utf-8;"}),o=document.createElement("a");o.href=URL.createObjectURL(r),o.download="report_".concat((new Date).getTime(),".csv"),o.click(),URL.revokeObjectURL(o.href)}(t.data,B,_)}}),d().createElement(m.Button,{size:"default",variant:"outlined",label:"Export JSON",icon:d().createElement(P.ae,null),onClick:function(){return function(e){var t=JSON.stringify(e,null,2),n=new Blob([t],{type:"application/json;charset=utf-8;"}),a=document.createElement("a");a.href=URL.createObjectURL(n),a.download="report_".concat((new Date).getTime(),".json"),a.click(),URL.revokeObjectURL(a.href)}(t)}}))),d().createElement(m.Table,{className:E().table},d().createElement(m.TableHead,null,d().createElement(m.TableRow,null,d().createElement(q,{useCustomColumns:_,columns:B,sortColumn:k,sortDirection:j,handleSort:function(e){k===e?O("asc"===j?"desc":"asc"):(R(e),O("asc")),b(1)},t:s,siteLanguages:N}))),d().createElement(m.TableBody,null,U.map(function(e,t){var r,o="row-".concat(t,"-").concat(e[0]||t);return d().createElement(m.TableRow,{key:o},_?B.map(function(t,n){var a=e[n],r="date"===t.type?E().dateCell:"boolean"===t.type?E().booleanCell:t.isLanguage||"path"===t.key?E().pathCell:"html"===t.type&&!1===t.noWrap?E().htmlCell:void 0;return d().createElement(m.TableBodyCell,{key:"".concat(o,"-").concat(t.key),className:r},W(a,t.type,e,t.key))}):d().createElement(d().Fragment,null,d().createElement(m.TableBodyCell,{className:E().titleCell},e[0]||"-"),d().createElement(m.TableBodyCell,{className:E().pathCell},e[1]?d().createElement("a",{href:(r=e[1],D(r,n,a)),target:"_blank",rel:"noopener noreferrer",className:E().pathLink},e[1]):"-"),d().createElement(m.TableBodyCell,null,e[2]||"-"),d().createElement(m.TableBodyCell,{className:E().dateCell},K(e[3])),d().createElement(m.TableBodyCell,{className:E().dateCell},K(e[4])),d().createElement(m.TableBodyCell,{className:E().booleanCell},A(e[5])),d().createElement(m.TableBodyCell,{className:E().booleanCell},A(e[6]))))}))),d().createElement(m.TablePagination,{currentPage:g,totalNumberOfRows:V.length,rowsPerPage:v,rowsPerPageOptions:[10,25,50,100],label:{rowsPerPage:"Rows per page:",of:"of"},onPageChange:b,onRowsPerPageChange:x}))):(console.log("ReportResultsTable - No data to display"),d().createElement("div",{className:E().noResults},d().createElement(m.Typography,{variant:"body",weight:"bold"},"No results found")))};L.propTypes={data:p().shape({recordsTotal:p().number,recordsFiltered:p().number,data:p().arrayOf(p().array),siteLanguages:p().arrayOf(p().string)}),siteKey:p().string.isRequired,language:p().string,columns:p().arrayOf(p().shape({key:p().string,labelKey:p().string,sortable:p().bool,type:p().string})),reportId:p().string,reportType:p().string};const j=L;var O=n(1696),N=n.n(O);function I(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,a)}return n}function _(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?I(Object(n),!0).forEach(function(t){(0,s.A)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):I(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function B(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=Array(t);n<t;n++)a[n]=e[n];return a}var W={grid:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(200px, 1fr))",gap:"16px",marginTop:"16px"},card:{padding:"16px",borderRadius:"6px",background:"#ffffff",border:"1px solid #e1e7f5",boxShadow:"0 1px 2px rgba(0,0,0,0.05)"},value:{fontSize:"26px",fontWeight:"700",color:"#0c2f6b",marginTop:"6px"}},z=function(e,t){return e&&e.fields?e.fields.reduce(function(e,n){var a="function"==typeof n.defaultValue?n.defaultValue(t):n.defaultValue;return"checkbox"===n.type?e[n.name]=void 0!==a&&Boolean(a):e[n.name]=void 0===a?"":a,e},{}):{}},V=function(e,t){if(e.dependsOn){var n=t[e.dependsOn];return void 0!==e.dependsValue?n===e.dependsValue:Boolean(n)}return!0},U=function(e,t){var n=[];return console.log("[buildParameterPayload] Input fields:",e),console.log("[buildParameterPayload] Definitions:",t),(t||[]).forEach(function(t){if(V(t,e)){var a=e[t.name];if(console.log("[buildParameterPayload] Processing field ".concat(t.name,", value:"),a,"type:",t.type),"checkbox"===t.type)return n.push({name:t.name,value:a?"true":"false"}),void console.log("[buildParameterPayload] Added checkbox ".concat(t.name," = ").concat(a?"true":"false"));null!=a&&""!=="".concat(a).trim()?(n.push({name:t.name,value:"".concat(a)}),console.log("[buildParameterPayload] Added field ".concat(t.name," = ").concat(a))):t.includeIfEmpty?(n.push({name:t.name,value:""}),console.log("[buildParameterPayload] Added empty field ".concat(t.name," (includeIfEmpty=true)"))):console.log("[buildParameterPayload] Skipping empty field ".concat(t.name," (includeIfEmpty=false)"))}else console.log("[buildParameterPayload] Field ".concat(t.name," is not active, skipping"))}),console.log("[buildParameterPayload] Final entries:",n),n},F=function(e){if("string"==typeof e)try{var t=JSON.parse(e);if(t&&t.items&&Array.isArray(t.items)){var n=t.items.map(function(e){return[e.title,e.type,e.path,e.date]});return{recordsTotal:t.totalContent||n.length,recordsFiltered:t.totalContent||n.length,data:n}}return t}catch(e){return null}return e},M=function(e){var t,n=e.data,a=e.labelKey,r=e.descriptionKey,o=e.isLoading,i=e.lastUpdated,l=e.t,s=n?[{label:l("result.nbPages"),value:n.nbPages},{label:l("result.nbTemplates"),value:n.nbTemplates},{label:l("result.nbUsers"),value:n.nbUsers},{label:l("result.nbContents"),value:n.nbContents},{label:l("result.nbEditorialContents"),value:n.nbEditorialContents},{label:l("result.nbWorkflowTasks"),value:n.nbWorkflowTasks},{label:l("result.nbFiles"),value:n.nbFiles},{label:l("result.nbImages"),value:n.nbImages}]:[];return d().createElement(m.Paper,{style:{padding:"32px",borderRadius:"8px",boxShadow:"0 1px 3px rgba(0, 0, 0, 0.06), 0 1px 2px rgba(0, 0, 0, 0.04)"}},d().createElement("div",{style:{paddingBottom:"20px",borderBottom:"1px solid #e8ecf0",marginBottom:"24px"}},d().createElement(m.Typography,{variant:"heading",weight:"bold",style:{fontSize:"20px",color:"#1a2332",marginBottom:"6px",lineHeight:"1.4"}},l(a)),r&&d().createElement(m.Typography,{variant:"body",style:{color:"#5c6f90",fontSize:"14px",lineHeight:"1.6"}},l(r))),n&&d().createElement("div",null,d().createElement("div",{style:{color:"#2c3e5d",fontWeight:"600",fontSize:"16px",marginBottom:"16px"}},n.siteDisplayableName||n.siteName),d().createElement("div",{style:W.grid},s.map(function(e){return d().createElement("div",{key:e.label,style:W.card},d().createElement("div",{style:{color:"#5c6f90",fontSize:"13px",fontWeight:"500"}},e.label),d().createElement("div",{style:W.value},e.value))}),n.languages&&n.languages.length>0&&d().createElement("div",{style:_(_({},W.card),{},{gridColumn:"span 2"})},d().createElement("div",{style:{color:"#5c6f90",fontSize:"13px",fontWeight:"500",marginBottom:"8px"}},l("result.languages")," (",n.nbLanguages,")"),d().createElement("div",{style:{display:"flex",flexWrap:"wrap",gap:"8px"}},n.languages.map(function(e){return d().createElement("div",{key:e,style:{display:"flex",alignItems:"center",gap:"6px",padding:"6px 12px",backgroundColor:"#f4f6f9",borderRadius:"6px",fontSize:"14px",fontWeight:"500",color:"#2c3e5d"}},d().createElement("span",{style:{fontSize:"18px"}},{en:"ðŸ‡¬ðŸ‡§",fr:"ðŸ‡«ðŸ‡·",de:"ðŸ‡©ðŸ‡ª",es:"ðŸ‡ªðŸ‡¸",it:"ðŸ‡®ðŸ‡¹",pt:"ðŸ‡µðŸ‡¹",nl:"ðŸ‡³ðŸ‡±",ru:"ðŸ‡·ðŸ‡º",ja:"ðŸ‡¯ðŸ‡µ",zh:"ðŸ‡¨ðŸ‡³",ar:"ðŸ‡¸ðŸ‡¦",ko:"ðŸ‡°ðŸ‡·",pl:"ðŸ‡µðŸ‡±",tr:"ðŸ‡¹ðŸ‡·",sv:"ðŸ‡¸ðŸ‡ª",da:"ðŸ‡©ðŸ‡°",no:"ðŸ‡³ðŸ‡´",fi:"ðŸ‡«ðŸ‡®",cs:"ðŸ‡¨ðŸ‡¿",el:"ðŸ‡¬ðŸ‡·"}[e]||"ðŸŒ"),d().createElement("span",null,e.toUpperCase()))})))),d().createElement("div",{style:{marginTop:"32px",paddingTop:"24px",borderTop:"2px solid #e8ecf0"}},d().createElement(m.Typography,{variant:"heading",weight:"bold",style:{fontSize:"18px",color:"#1a2332",marginBottom:"16px"}},l("result.contentActivity")),d().createElement("div",{style:W.grid},d().createElement("div",{style:W.card},d().createElement("div",{style:{color:"#5c6f90",fontSize:"13px",fontWeight:"500"}},l("result.newContentLast30Days")),d().createElement("div",{style:_(_({},W.value),{},{color:"#22863a"})},n.newContentLast30Days)),d().createElement("div",{style:W.card},d().createElement("div",{style:{color:"#5c6f90",fontSize:"13px",fontWeight:"500"}},l("result.modifiedContentLast30Days")),d().createElement("div",{style:_(_({},W.value),{},{color:"#0366d6"})},n.modifiedContentLast30Days)),d().createElement("div",{style:W.card},d().createElement("div",{style:{color:"#5c6f90",fontSize:"13px",fontWeight:"500"}},l("result.publishedContentLast30Days")),d().createElement("div",{style:_(_({},W.value),{},{color:"#6f42c1"})},n.publishedContentLast30Days)),d().createElement("div",{style:W.card},d().createElement("div",{style:{color:"#5c6f90",fontSize:"13px",fontWeight:"500"}},l("result.publishedNodes")),d().createElement("div",{style:W.value},n.publishedNodes)),d().createElement("div",{style:W.card},d().createElement("div",{style:{color:"#5c6f90",fontSize:"13px",fontWeight:"500"}},l("result.unpublishedNodes")),d().createElement("div",{style:W.value},n.unpublishedNodes)),d().createElement("div",{style:W.card},d().createElement("div",{style:{color:"#5c6f90",fontSize:"13px",fontWeight:"500"}},l("result.averageTimeToPublish")),d().createElement("div",{style:W.value},null===(t=n.averageTimeToPublish)||void 0===t?void 0:t.toFixed(1)," ",l("result.days")))),d().createElement("div",{style:_(_({},W.card),{},{marginTop:"16px"})},d().createElement("div",{style:{color:"#5c6f90",fontSize:"13px",fontWeight:"500",marginBottom:"12px"}},l("result.topContributors")),n.topContributors&&n.topContributors.length>0?d().createElement("div",{style:{display:"flex",flexDirection:"column",gap:"8px"}},n.topContributors.map(function(e,t){return d().createElement("div",{key:e.username,style:{display:"flex",justifyContent:"space-between",alignItems:"center",padding:"8px 12px",backgroundColor:"#f4f6f9",borderRadius:"4px"}},d().createElement("div",{style:{display:"flex",alignItems:"center",gap:"8px"}},d().createElement("span",{style:{display:"inline-flex",alignItems:"center",justifyContent:"center",width:"24px",height:"24px",borderRadius:"50%",backgroundColor:0===t?"#ffd700":1===t?"#c0c0c0":2===t?"#cd7f32":"#e8ecf0",fontSize:"12px",fontWeight:"bold",color:t<3?"#fff":"#5c6f90"}},t+1),d().createElement("span",{style:{fontWeight:"500",color:"#2c3e5d"}},e.username)),d().createElement("span",{style:{fontSize:"14px",fontWeight:"600",color:"#0c2f6b",backgroundColor:"#e1e7f5",padding:"4px 8px",borderRadius:"4px"}},e.contentCount," ",l("result.items")))})):d().createElement("div",{style:{color:"#8b9bb3",fontSize:"13px",fontStyle:"italic",padding:"12px"}},l("result.noContributorsData"))))),d().createElement("div",{style:{paddingTop:"20px",borderTop:"1px solid #e8ecf0"}},d().createElement(H,{isLoading:o,lastUpdated:i,t:l})))};M.propTypes={data:p().shape({nbPages:p().number,nbTemplates:p().number,nbUsers:p().number,nbContents:p().number,nbEditorialContents:p().number,nbWorkflowTasks:p().number,nbFiles:p().number,nbImages:p().number,languages:p().arrayOf(p().string),nbLanguages:p().number,siteDisplayableName:p().string,siteName:p().string,newContentLast30Days:p().number,modifiedContentLast30Days:p().number,publishedContentLast30Days:p().number,unpublishedNodes:p().number,publishedNodes:p().number,averageTimeToPublish:p().number,topContributors:p().arrayOf(p().shape({username:p().string,contentCount:p().number}))}),labelKey:p().string.isRequired,descriptionKey:p().string,isLoading:p().bool.isRequired,lastUpdated:p().instanceOf(Date),t:p().func.isRequired};var Z=function(e){var t=e.result,n=e.siteKey,a=e.language,r=e.labelKey,o=e.selectedReport,i=e.t;if(!t)return null;var l=t.parsed;return d().createElement(m.Paper,{style:{padding:"32px",borderRadius:"8px",boxShadow:"0 1px 3px rgba(0, 0, 0, 0.06), 0 1px 2px rgba(0, 0, 0, 0.04)"}},d().createElement("div",{style:{paddingBottom:"20px",borderBottom:"1px solid #e8ecf0",marginBottom:"24px"}},d().createElement(m.Typography,{variant:"heading",weight:"bold",style:{fontSize:"20px",color:"#1a2332",lineHeight:"1.4"}},i("common.report")," - ",i(r))),l&&l.data&&d().createElement(j,{data:l,siteKey:n,language:a,columns:null==o?void 0:o.columns,reportId:null==o?void 0:o.id,reportType:null==o?void 0:o.type}))};Z.propTypes={result:p().shape({payload:p().string,parsed:p().shape({recordsTotal:p().number,recordsFiltered:p().number,data:p().arrayOf(p().array)})}),siteKey:p().string.isRequired,language:p().string,labelKey:p().string.isRequired,selectedReport:p().object,t:p().func.isRequired};var H=function(e){var t=e.isLoading,n=e.lastUpdated,a=e.t;return d().createElement("div",{className:N().actions},d().createElement(m.Button,{type:"submit",size:"big",variant:"outlined",label:a(t?"states.loading":"actions.runReport"),disabled:t}),n&&d().createElement("span",{style:{color:"#4b5c87",fontSize:"13px"}},a("states.lastUpdated",{value:n.toLocaleString()})))};H.propTypes={isLoading:p().bool.isRequired,lastUpdated:p().instanceOf(Date),t:p().func.isRequired};var $=function(e){var t=e.error,n=e.isLoading,a=e.result,r=e.siteKey,o=e.language,i=e.report,l=e.t;return d().createElement(d().Fragment,null,t&&d().createElement("div",{className:N().error},t.message),!n&&a&&"overview"===a.kind&&d().createElement(M,{data:a.overview,labelKey:i.labelKey,descriptionKey:i.descriptionKey,t:l}),!n&&a&&"legacy"===a.kind&&d().createElement(Z,{result:a,siteKey:r,language:o,labelKey:i.labelKey,selectedReport:i,t:l}),n&&d().createElement("div",{className:N().info},l("states.loading")))};$.propTypes={error:p().instanceOf(Error),isLoading:p().bool.isRequired,result:p().shape({kind:p().string,overview:p().object}),siteKey:p().string.isRequired,language:p().string,report:p().shape({labelKey:p().string.isRequired,descriptionKey:p().string}).isRequired,t:p().func.isRequired};var X=function(e){var t,n=e.initialReportId,a=(0,y.useTranslation)("contentReportReact").t,i=window.contextJsParameters||{},u=i.siteKey||i.site&&i.site.key||"",p=i.lang||i.language||"",g=(0,c.useMemo)(function(){return u?"/sites/".concat(u):""},[u]),f="".concat(i.contextPath||"","/modules/graphql"),h=(0,c.useMemo)(function(){return R()},[]),v=n||(null===(t=h[0])||void 0===t?void 0:t.id),x=(0,c.useMemo)(function(){return h.find(function(e){return e.id===v})||h[0]},[h,v]),C=(0,c.useState)(function(){return z(x,{siteKey:u,language:p})}),w=(0,o.A)(C,2),k=w[0],S=w[1],P=(0,c.useState)(!1),T=(0,o.A)(P,2),E=T[0],K=T[1],A=(0,c.useState)(null),D=(0,o.A)(A,2),q=D[0],L=D[1],j=(0,c.useState)(null),O=(0,o.A)(j,2),I=O[0],W=O[1],Z=(0,c.useState)(null),X=(0,o.A)(Z,2),G=X[0],J=X[1],Y=(0,c.useState)([]),Q=(0,o.A)(Y,2),ee=Q[0],te=Q[1],ne=(0,c.useState)([]),ae=(0,o.A)(ne,2),re=ae[0],oe=ae[1],ie=(0,c.useState)(!1),le=(0,o.A)(ie,2),se=le[0],ce=le[1];(0,c.useEffect)(function(){var e=function(){var e=(0,r.A)(l().mark(function e(){var t,n,a,r,o,i,s;return l().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(u){e.next=1;break}return e.abrupt("return");case 1:return e.prev=1,e.next=2,ue("\n  query GetSiteLanguages($siteKey: String!) {\n    jcr {\n      nodeByPath(path: $siteKey) {\n        site {\n          languages {\n            displayName\n            language\n          }\n        }\n      }\n    }\n  }\n",{siteKey:"/sites/".concat(u)});case 2:n=e.sent,a=(null==n||null===(t=n.jcr)||void 0===t||null===(t=t.nodeByPath)||void 0===t||null===(t=t.site)||void 0===t?void 0:t.languages)||[],r=a.map(function(e){return e.language}),console.log("Fetched site languages:",r),te(r),e.next=4;break;case 3:e.prev=3,s=e.catch(1),console.error("Failed to fetch site languages:",s),i=(null===(o=window.contextJsParameters)||void 0===o?void 0:o.siteLanguages)||[],console.log("Using fallback languages from context:",i),te(i);case 4:case"end":return e.stop()}},e,null,[[1,3]])}));return function(){return e.apply(this,arguments)}}();e()},[u,ue]),(0,c.useEffect)(function(){var e=function(){var e=(0,r.A)(l().mark(function e(){var t,n,a,r,o;return l().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return ce(!0),e.prev=1,e.next=2,ue('\n  query GetAllUsers {\n    jcr {\n      nodesByQuery(\n        query: "SELECT * FROM [jnt:user]"\n        queryLanguage: SQL2\n      ) {\n        nodes {\n          name\n          property(name: "j:email") {\n            value\n          }\n        }\n      }\n    }\n  }\n',{});case 2:n=e.sent,a=(null==n||null===(t=n.jcr)||void 0===t||null===(t=t.nodesByQuery)||void 0===t?void 0:t.nodes)||[],r=a.map(function(e){var t;return{username:e.name,email:(null===(t=e.property)||void 0===t?void 0:t.value)||""}}),oe(r),e.next=4;break;case 3:e.prev=3,o=e.catch(1),console.error("Failed to fetch users:",o);case 4:return e.prev=4,ce(!1),e.finish(4);case 5:case"end":return e.stop()}},e,null,[[1,3,4,5]])}));return function(){return e.apply(this,arguments)}}();e()},[ue]),(0,c.useEffect)(function(){S(z(x,{siteKey:u,language:p})),W(null),L(null)},[x,u,p]);var de=(0,c.useCallback)(function(e,t){console.log("[AdminPanel] handleFieldChange - name:",e,"value:",t),S(function(n){var a=_(_({},n),{},(0,s.A)({},e,t));return console.log("[AdminPanel] handleFieldChange - new fields state:",a),a})},[]),ue=(0,c.useCallback)(function(){var e=(0,r.A)(l().mark(function e(t,n){var a,r;return l().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=1,b().post(f,{query:t,variables:n},{headers:{"Content-Type":"application/json"},withCredentials:!0});case 1:if(!((a=e.sent).data&&a.data.errors&&a.data.errors.length)){e.next=2;break}throw r=a.data.errors.map(function(e){return e.message}).join("\n"),new Error(r);case 2:return e.abrupt("return",a.data.data);case 3:case"end":return e.stop()}},e)}));return function(t,n){return e.apply(this,arguments)}}(),[f]),pe=(0,c.useCallback)((0,r.A)(l().mark(function e(){var t,n,a,r;return l().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return K(!0),L(null),e.prev=1,e.next=2,ue("\n    query ContentReportsOverview($siteKey: String!, $language: String) {\n        admin {\n            contentReports(siteKey: $siteKey, language: $language) {\n                overview {\n                    siteName\n                    siteDisplayableName\n                    nbPages\n                    nbTemplates\n                    nbUsers\n                    nbContents\n                    nbEditorialContents\n                    nbWorkflowTasks\n                    nbFiles\n                    nbImages\n                    languages\n                    nbLanguages\n                    newContentLast30Days\n                    modifiedContentLast30Days\n                    publishedContentLast30Days\n                    unpublishedNodes\n                    publishedNodes\n                    averageTimeToPublish\n                    topContributors {\n                        username\n                        contentCount\n                    }\n                }\n            }\n        }\n    }\n",{siteKey:u,language:p});case 2:n=e.sent,a=null==n||null===(t=n.admin)||void 0===t||null===(t=t.contentReports)||void 0===t?void 0:t.overview,W({kind:"overview",overview:a}),J(new Date),e.next=4;break;case 3:e.prev=3,r=e.catch(1),L(r);case 4:return e.prev=4,K(!1),e.finish(4);case 5:case"end":return e.stop()}},e,null,[[1,3,4,5]])})),[ue,u,p]),me=(0,c.useCallback)((0,r.A)(l().mark(function e(){var t,n,a,r,o,i,s,c,d,m,y;return l().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(x){e.next=1;break}return e.abrupt("return");case 1:return K(!0),L(null),e.prev=2,i=U(k,x.fields),console.log("[AdminPanel] runLegacy - fields:",k),console.log("[AdminPanel] runLegacy - parameters:",i),s={siteKey:u,language:p,reportId:x.id,offset:null!==(t=x.defaultOffset)&&void 0!==t?t:0,limit:null!==(n=x.defaultLimit)&&void 0!==n?n:1e4,sortColumn:null!==(a=x.defaultSortColumn)&&void 0!==a?a:null,sortDirection:null!==(r=x.defaultSortDirection)&&void 0!==r?r:null},i.forEach(function(e,t){t<6&&(s["parameterName".concat(t+1)]=e.name,s["parameterValue".concat(t+1)]=e.value)}),console.log("[AdminPanel] runLegacy - GraphQL variables:",s),e.next=3,ue("\n    query ContentReportRaw($siteKey: String!, $language: String, $reportId: String!, $parameterName1: String, $parameterValue1: String, $parameterName2: String, $parameterValue2: String, $parameterName3: String, $parameterValue3: String, $parameterName4: String, $parameterValue4: String, $parameterName5: String, $parameterValue5: String, $parameterName6: String, $parameterValue6: String, $offset: Int, $limit: Int, $sortColumn: Int, $sortDirection: String) {\n        admin {\n            contentReports(siteKey: $siteKey, language: $language) {\n                rawReport(reportId: $reportId, parameterName1: $parameterName1, parameterValue1: $parameterValue1, parameterName2: $parameterName2, parameterValue2: $parameterValue2, parameterName3: $parameterName3, parameterValue3: $parameterValue3, parameterName4: $parameterName4, parameterValue4: $parameterValue4, parameterName5: $parameterName5, parameterValue5: $parameterValue5, parameterName6: $parameterName6, parameterValue6: $parameterValue6, offset: $offset, limit: $limit, sortColumn: $sortColumn, sortDirection: $sortDirection)\n            }\n        }\n    }\n",s);case 3:c=e.sent,d=null==c||null===(o=c.admin)||void 0===o||null===(o=o.contentReports)||void 0===o?void 0:o.rawReport,m=F(d),W({kind:"legacy",payload:d,parsed:m}),J(new Date),e.next=5;break;case 4:e.prev=4,y=e.catch(2),L(y);case 5:return e.prev=5,K(!1),e.finish(5);case 6:case"end":return e.stop()}},e,null,[[2,4,5,6]])})),[ue,k,p,x,u]),ye=(0,c.useCallback)(function(e){if(e.preventDefault(),x){var t=function(e,t,n){var a,r=function(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return B(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?B(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var a=0,r=function(){};return{s:r,n:function(){return a>=e.length?{done:!0}:{done:!1,value:e[a++]}},e:function(e){throw e},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,i=!0,l=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return i=e.done,e},e:function(e){l=!0,o=e},f:function(){try{i||null==n.return||n.return()}finally{if(l)throw o}}}}(e||[]);try{for(r.s();!(a=r.n()).done;){var o=a.value;if(V(o,t)&&(o.required||"function"==typeof o.requiredWhen&&o.requiredWhen(t))&&"checkbox"!==o.type){var i=t[o.name];if(null==i||""==="".concat(i).trim())return n("errors.requiredField",{field:n(o.labelKey)})}}}catch(e){r.e(e)}finally{r.f()}return null}(x.fields,k,a);t?L(new Error(t)):"overview"===x.type?pe():me()}},[k,me,pe,x,a]);(0,c.useEffect)(function(){x&&"overview"===x.type&&pe()},[v]);var ge=(0,c.useCallback)(function(e,t){var n,a,r,i=t||g||"/",l=null===(n=window)||void 0===n||null===(n=n.CE_API)||void 0===n?void 0:n.openPicker;console.log("[AdminPanel] openPathPicker - fieldName:",e,"currentValue:",t,"initialPath:",i),l?l({type:"editorial",initialSelectedItem:[i],site:(null===(a=window.jahiaGWTParameters)||void 0===a?void 0:a.siteKey)||u,lang:(null===(r=window.jahiaGWTParameters)||void 0===r?void 0:r.uilang)||p||"en",isMultiple:!1,setValue:function(t){var n=(0,o.A)(t,1)[0];console.log("[AdminPanel] Path picker returned:",n),null!=n&&n.path&&(console.log("[AdminPanel] Setting field",e,"to path:",n.path),de(e,n.path))}}):console.warn("[contentReportReact] Content Editor picker API is not available.")},[g,de,p,u]),be=(0,c.useCallback)(function(e){return"languageSelect"===e.type?{options:ee.map(function(e){return{value:e,labelKey:e}}),isLoading:!1,renderOption:function(e){return e.value}}:"userSelect"===e.type?{options:re.map(function(e){return{value:e.username,label:"".concat(e.username).concat(e.email?" (".concat(e.email,")"):"")}}),isLoading:se,renderOption:function(e){return e.label}}:{options:e.options||[],isLoading:!1,renderOption:function(e){return a(e.labelKey)}}},[ee,re,se,a]),fe=(0,c.useCallback)(function(e){var t;if(!e||!V(e,k))return null;if("checkbox"===e.type)return d().createElement("label",{key:e.name,className:N().checkboxRow},d().createElement("input",{type:"checkbox",checked:Boolean(k[e.name]),onChange:function(t){return de(e.name,t.target.checked)}}),d().createElement("span",null,a(e.labelKey)));if("radio"===e.type)return d().createElement("div",{key:e.name,className:N().formRow},d().createElement("span",{className:N().label},a(e.labelKey)),(e.options||[]).map(function(t){return d().createElement("label",{key:"".concat(e.name,"-").concat(t.value),className:N().inline},d().createElement("input",{type:"radio",name:e.name,value:t.value,checked:k[e.name]===t.value,onChange:function(t){return de(e.name,t.target.value)}}),d().createElement("span",null,a(t.labelKey)))}));if("select"===e.type||"languageSelect"===e.type||"userSelect"===e.type){var n,r=be(e),o=r.options,i=r.isLoading,l=r.renderOption,s=e.placeholderKey?a(e.placeholderKey):"";return d().createElement("div",{key:e.name,className:N().formRow},d().createElement("label",{className:N().label,htmlFor:e.name},a(e.labelKey)),d().createElement("select",{id:e.name,value:null!==(n=k[e.name])&&void 0!==n?n:"",disabled:i,className:N().input,onChange:function(t){return de(e.name,t.target.value)}},d().createElement("option",{value:""},i?a("common.loading")||"Loading...":s||a("common.selectOption")||"Select..."),o.map(function(e){return d().createElement("option",{key:e.value,value:e.value},l(e))})))}var c="path"===e.type,u="date"===e.type?"date":"text",p=e.placeholderKey?a(e.placeholderKey):"";return d().createElement("div",{key:e.name,className:N().formRow},d().createElement("label",{className:N().label,htmlFor:e.name},a(e.labelKey)),d().createElement("div",{className:c?N().inline:N().inputRow},d().createElement(m.Input,{id:e.name,type:u,value:null!==(t=k[e.name])&&void 0!==t?t:"",size:"big",placeholder:p,onChange:function(t){return de(e.name,t.target.value)}}),c&&d().createElement(m.Button,{size:"big",variant:"outlined",label:a("actions.browse"),onClick:function(){return ge(e.name,k[e.name])}})))},[k,de,ge,a,be]);return d().createElement(d().Fragment,null,d().createElement(m.Header,{title:"".concat(a("label")," ").concat(u?"- ".concat(u):"")}),d().createElement(m.LayoutContent,{content:d().createElement("div",{className:N().pageContainer},d().createElement("div",{className:N().contentFullWidth},"overview"===(null==x?void 0:x.type)?d().createElement("form",{className:N().form,onSubmit:ye},d().createElement(M,{data:null==I?void 0:I.overview,labelKey:x.labelKey,descriptionKey:x.descriptionKey,isLoading:E,lastUpdated:G,t:a})):x?d().createElement("form",{className:N().form,onSubmit:ye},function(){var e;if(!x||"overview"===x.type)return null;var t=(null===(e=x.fields)||void 0===e?void 0:e.map(fe))||null;return t?d().createElement(m.Paper,{style:{padding:"32px",borderRadius:"8px",boxShadow:"0 1px 3px rgba(0, 0, 0, 0.06), 0 1px 2px rgba(0, 0, 0, 0.04)",display:"flex",flexDirection:"column",gap:"28px"}},d().createElement("div",{style:{paddingBottom:"20px",borderBottom:"1px solid #e8ecf0"}},d().createElement(m.Typography,{variant:"heading",weight:"bold",style:{fontSize:"20px",color:"#1a2332",marginBottom:"6px",lineHeight:"1.4"}},a(x.labelKey)),x.descriptionKey&&d().createElement(m.Typography,{variant:"body",style:{color:"#5c6f90",fontSize:"14px",lineHeight:"1.6"}},a(x.descriptionKey))),t,d().createElement("div",{style:{paddingTop:"20px",borderTop:"1px solid #e8ecf0"}},d().createElement(H,{isLoading:E,lastUpdated:G,t:a}))):null}()):d().createElement("div",{className:N().error},a("errors.noReportSelected"))),d().createElement("div",{className:N().fullWidthResults},"overview"!==(null==x?void 0:x.type)&&d().createElement($,{error:q,isLoading:E,result:I,siteKey:u,language:p,report:x,t:a})))}))};X.displayName="ContentReportAdminPanel",X.propTypes={initialReportId:p().string};const G=X;function J(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,a)}return n}function Y(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?J(Object(n),!0).forEach(function(t){(0,s.A)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):J(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var Q=function(e){return function(t){var n,a=Y(Y({},t.match),{},{params:Y(Y({},null===(n=t.match)||void 0===n?void 0:n.params),{},{reportId:e})});return d().createElement(c.Suspense,{fallback:"loading..."},d().createElement(G,{match:a,initialReportId:e}))}},ee=function(){window.jahia.i18n.loadNamespaces("contentReportReact"),a.registry.add("adminRoute","jcontent-contentReports",{targets:["jcontent:1"],isSelectable:!0,icon:window.jahia.moonstone.toIconComponent("Pie"),label:"contentReportReact:label",path:"".concat(v,"*"),defaultPath:v,requireModuleInstalledOnSite:"contentReportReact",requiredPermission:"contentReports",render:Q("overview")}),a.registry.add("adminRoute","contentReportReact-byAuthorAndDate",{targets:["jcontent-jcontent-contentReports"],isSelectable:!0,label:"contentReportReact:menu.byAuthorAndDate",requireModuleInstalledOnSite:"contentReportReact",requiredPermission:"contentReports",render:Q("20")}),a.registry.add("adminRoute","contentReportReact-references",{targets:["jcontent-jcontent-contentReports"],isSelectable:!0,label:"contentReportReact:menu.references",requireModuleInstalledOnSite:"contentReportReact",requiredPermission:"contentReports",render:Q("23")}),a.registry.add("adminRoute","contentReportReact-wipContent",{targets:["jcontent-jcontent-contentReports"],isSelectable:!0,label:"contentReportReact:menu.wipContent",requireModuleInstalledOnSite:"contentReportReact",requiredPermission:"contentReports",render:Q("22")}),a.registry.add("adminRoute","contentReportReact-contentWaitingPublication",{targets:["jcontent-jcontent-contentReports"],isSelectable:!0,label:"contentReportReact:menu.contentWaitingPublication",requireModuleInstalledOnSite:"contentReportReact",requiredPermission:"contentReports",render:Q("16")}),a.registry.add("adminRoute","contentReportReact-markedForDeletion",{targets:["jcontent-jcontent-contentReports"],isSelectable:!0,label:"contentReportReact:menu.markedForDeletion",requireModuleInstalledOnSite:"contentReportReact",requiredPermission:"contentReports",render:Q("24")}),a.registry.add("adminRoute","contentReportReact-language",{isSelectable:!1,targets:["jcontent-jcontent-contentReports"],label:"contentReportReact:categories.languages",requireModuleInstalledOnSite:"contentReportReact",requiredPermission:"contentReports"}),a.registry.add("adminRoute","contentReportReact-language-pagesWithoutTitle",{targets:["jcontent-contentReportReact-language"],isSelectable:!0,label:"contentReportReact:menu.pagesWithoutTitle",requireModuleInstalledOnSite:"contentReportReact",requiredPermission:"contentReports",render:Q("10")}),a.registry.add("adminRoute","contentReportReact-language-pagesUntranslated",{targets:["jcontent-contentReportReact-language"],isSelectable:!0,label:"contentReportReact:menu.pagesUntranslated",requireModuleInstalledOnSite:"contentReportReact",requiredPermission:"contentReports",render:Q("21")}),a.registry.add("adminRoute","contentReportReact-visibility-conditions",{targets:["jcontent-jcontent-contentReports"],isSelectable:!1,label:"contentReportReact:categories.visibility",requireModuleInstalledOnSite:"contentReportReact",requiredPermission:"contentReports"}),a.registry.add("adminRoute","contentReportReact-visibility-conditions-liveContents",{targets:["jcontent-contentReportReact-visibility-conditions"],isSelectable:!0,label:"contentReportReact:menu.liveContents",requireModuleInstalledOnSite:"contentReportReact",requiredPermission:"contentReports",render:Q("25")}),a.registry.add("adminRoute","contentReportReact-visibility-conditions-expiredContents",{targets:["jcontent-contentReportReact-visibility-conditions"],isSelectable:!0,label:"contentReportReact:menu.expiredContents",requireModuleInstalledOnSite:"contentReportReact",requiredPermission:"contentReports",render:Q("26")}),a.registry.add("adminRoute","contentReportReact-visibility-conditions-futureContents",{targets:["jcontent-contentReportReact-visibility-conditions"],isSelectable:!0,label:"contentReportReact:menu.futureContents",requireModuleInstalledOnSite:"contentReportReact",requiredPermission:"contentReports",render:Q("27")}),a.registry.add("adminRoute","contentReportReact-metadata",{targets:["jcontent-jcontent-contentReports"],isSelectable:!1,label:"contentReportReact:categories.metadata",requireModuleInstalledOnSite:"contentReportReact",requiredPermission:"contentReports"}),a.registry.add("adminRoute","contentReportReact-metadata-pagesWithoutKeywords",{targets:["jcontent-contentReportReact-metadata"],isSelectable:!0,label:"contentReportReact:menu.pagesWithoutKeywords",requireModuleInstalledOnSite:"contentReportReact",requiredPermission:"contentReports",render:Q("11")}),a.registry.add("adminRoute","contentReportReact-metadata-pagesWithoutDescription",{targets:["jcontent-contentReportReact-metadata"],isSelectable:!0,label:"contentReportReact:menu.pagesWithoutDescription",requireModuleInstalledOnSite:"contentReportReact",requiredPermission:"contentReports",render:Q("12")}),a.registry.add("adminRoute","contentReportReact-system",{targets:["jcontent-jcontent-contentReports"],isSelectable:!1,label:"contentReportReact:categories.system",requireModuleInstalledOnSite:"contentReportReact",requiredPermission:"contentReports"}),a.registry.add("adminRoute","contentReportReact-system-lockedContent",{targets:["jcontent-contentReportReact-system"],isSelectable:!0,label:"contentReportReact:menu.lockedContent",requireModuleInstalledOnSite:"contentReportReact",requiredPermission:"contentReports",render:Q("15")}),a.registry.add("adminRoute","contentReportReact-system-customCacheContent",{targets:["jcontent-contentReportReact-system"],isSelectable:!0,label:"contentReportReact:menu.customCacheContent",requireModuleInstalledOnSite:"contentReportReact",requiredPermission:"contentReports",render:Q("18")}),a.registry.add("adminRoute","contentReportReact-system-aclInheritanceBreak",{targets:["jcontent-contentReportReact-system"],isSelectable:!0,label:"contentReportReact:menu.aclInheritanceBreak",requireModuleInstalledOnSite:"contentReportReact",requiredPermission:"contentReports",render:Q("19")}),a.registry.add("adminRoute","contentReportReact-system-overview",{targets:["jcontent-contentReportReact-system"],isSelectable:!0,label:"contentReportReact:menu.overview",requireModuleInstalledOnSite:"contentReportReact",requiredPermission:"contentReports",render:Q("overview")}),console.debug("%c contentReportReact jContent routes registered","color: #3c8cba")},te=n(2355),ne=n.n(te);const ae=JSON.parse('{"content-reports":{"label":{"contentreports":"Content Reports","byAuthorAndDate":"By author and date","references":"References","wipContent":"Work in progress","contentWaitingPublication":"Workflow instances","markedForDeletion":"Marked for deletion","byLanguage":"By Language","pagesWithoutTitle":"Pages without title","pagesUntranslated":"Untranslated content","byVisibilityConditions":"By Visibility Conditions","liveContents":"Live visibility conditions","expiredContents":"Expired content","futureContents":"Scheduled content","byMetadata":"By Metadata","pagesWithoutKeywords":"Pages without keywords","pagesWithoutDescription":"Pages without description","system":"System","lockedContent":"Locked content","customCacheContent":"Custom cache content","aclInheritanceBreak":"ACL inheritance break","overview":"Site overview"}},"contentReportReact":{"label":"Content Reports","header":"Content Reports - Site {{siteInfo}}","categories":{"overview":"Overview","content":"Content","languages":"Languages","visibility":"Visibility","metadata":"Metadata","system":"System"},"menu":{"overview":"Site overview","byAuthor":"By author","byAllDate":"By all dates","beforeDate":"Before date","byType":"By type","byTypeDetailed":"By type (detailed)","byStatus":"By status","byLanguage":"Languages","byLanguageDetailed":"Language detail","pagesWithoutTitle":"Pages without title","pagesWithoutKeywords":"Pages without keywords","pagesWithoutDescription":"Pages without description","contentFromAnotherSite":"Content from another site","byOrphanContent":"Orphan content","lockedContent":"Locked content","wipContent":"Work in progress","contentWaitingPublication":"Workflow instances","customCacheContent":"Custom cache content","aclInheritanceBreak":"ACL inheritance break","byAuthorAndDate":"By author and date","pagesUntranslated":"Untranslated content","references":"References","markedForDeletion":"Marked for deletion","liveContents":"Live visibility conditions","expiredContents":"Expired content","futureContents":"Scheduled content"},"descriptions":{"overview":"Get an instant snapshot of the selected site\'s key metrics.","byAuthor":"List content created or modified by specific authors.","byAllDate":"Break down content activity per month and type.","references":"The report only contains content which is used on any page. Unused content from content folders will not appear.","byAuthorAndDate":"Filter content by combining date and author criteria.","wipContent":"View content marked as Work in Progress (WIP). These items are still being edited and are not ready for publication.","contentWaitingPublication":"List all content that has a pending workflow task. This includes content awaiting review, approval, or publication.","markedForDeletion":"View content that has been marked for deletion. This report shows items flagged for removal along with the number of child nodes affected.","lockedContent":"View all content that is currently locked by users. This report displays who created the content, who has it locked, and where it\'s located. Useful for identifying content that may need to be unlocked.","customCacheContent":"View content with custom cache expiration settings. This report identifies content that has specific cache configuration applied, showing the expiration values and helping optimize cache performance.","aclInheritanceBreak":"Identify content where ACL (Access Control List) inheritance has been broken. This report shows nodes that have custom permissions set, overriding permissions from parent nodes. Useful for auditing security configurations.","pagesWithoutTitle":"Identify pages that are missing titles in one or more languages. The report displays the path and shows which languages have titles defined.","pagesUntranslated":"Identify content that has not been translated into a specific language. Select the target language to find content that exists in other languages but is missing the translation.","liveContents":"View content with live visibility conditions. This report displays content that has conditional visibility rules applied, showing the conditions, matching status, and current visibility state.","expiredContents":"View content with expired visibility conditions. This report identifies content that has visibility end dates that have already passed, making the content no longer visible on the live site.","futureContents":"View content scheduled to go live in the future. This report shows content with visibility start dates that have not yet been reached, allowing you to preview upcoming content publications.","pagesWithoutKeywords":"Identify pages that are missing SEO keywords. This report helps you find pages that need keyword metadata for better search engine optimization.","pagesWithoutDescription":"Identify pages that are missing descriptions in one or more languages. The report displays the path and shows which languages have descriptions defined for better SEO and accessibility."},"fields":{"path":"Path","language":"Language","typeSearch":{"label":"Type of search","pages":"Pages only","content":"All content"},"typeAuthor":{"label":"Author scope","created":"Created by","modified":"Last modified by"},"date":"Date","searchPath":"Search path","searchByDate":"Filter by date","typeDateSearch":{"label":"Date field to use","created":"Use creation dates","modified":"Use last modification dates"},"typeDateSearch.all":"All dates","typeDateSearch.beforeDate":"Before date","dateBegin":"Start date","dateEnd":"End date","searchByAuthor":"Filter by author","username":"Username","selectUser":"Select a user...","typeAuthorSearch":"Author condition","originPath":"Display the content references found in","destinationPath":"that are referencing content from","dateRange":"Date range","authorFilters":"Author filters"},"parameters":{"advanced":"Advanced parameters","keyPlaceholder":"Parameter name","valuePlaceholder":"Parameter value"},"actions":{"runReport":"Run report","addParameter":"Add parameter","remove":"Remove","browse":"Browse"},"common":{"loading":"Loading...","report":"Report"},"states":{"loading":"Loadingâ€¦","lastUpdated":"Last updated {{value}}"},"result":{"nbPages":"Pages","nbTemplates":"Modules deployed","nbUsers":"Registered users","nbContents":"Content nodes (jnt:content)","nbEditorialContents":"Editorial contents (jmix:editorialContent)","nbWorkflowTasks":"Pending workflow tasks","nbFiles":"Files (jnt:file)","nbImages":"Images (jmix:image)","languages":"Available languages","contentActivity":"Content Activity (Last 30 Days)","newContentLast30Days":"New Content","modifiedContentLast30Days":"Modified Content","publishedContentLast30Days":"Published Content","unpublishedNodes":"Unpublished Nodes","publishedNodes":"Published Nodes","averageTimeToPublish":"Avg. Time to Publish","days":"days","topContributors":"Top Contributors","items":"items","noContributorsData":"No contributor data available","rawJson":"Raw JSON","viewContent":"View"},"errors":{"requiredField":"The field \\"{{field}}\\" is required."},"reports":{"byAuthorAndDate":{"columns":{"title":"Title","path":"Path","type":"Type","created":"Created","modified":"Modified","published":"Published","locked":"Locked"}},"references":{"columns":{"type":"Type","referencedPath":"Path of the referenced content","referencePath":"Path of the reference","lastModified":"Last modified date of the referenced content","link":"Link to the reference"}},"wipContent":{"columns":{"title":"Title","type":"Type","wipStatus":"WIP Status","path":"Path","page":"Page"}},"contentWaitingPublication":{"columns":{"title":"Title","type":"Type","path":"Path","workflowStarted":"Workflow Started","workflowName":"Workflow Name","workflowType":"Workflow Type"}},"markedForDeletion":{"columns":{"title":"Title","type":"Type","path":"Path","page":"Page","subNodesDeleted":"Number of child nodes marked for deletion","published":"Published"}},"pagesUntranslated":{"columns":{"title":"Title","type":"Type","path":"Path","date":"Created"}},"liveContents":{"columns":{"name":"Name","path":"Path","type":"Type","listOfConditions":"List of conditions","isConditionMatched":"Conditions should match","currentStatus":"Current status"}},"expiredContents":{"columns":{"name":"Name","path":"Path","type":"Type","expiresOn":"Expired On"}},"futureContents":{"columns":{"name":"Name","path":"Path","type":"Type","liveDate":"Live Date"}},"pagesWithoutKeywords":{"columns":{"title":"Title","pagePath":"Page Path"}},"pagesWithoutDescription":{"columns":{"path":"Page Path"}},"lockedContent":{"columns":{"title":"Title","type":"Type","author":"Author","lockedBy":"Locked By","path":"Path"}},"customCacheContent":{"columns":{"title":"Title","type":"Type","expiration":"Expiration","path":"Path"}},"aclInheritanceBreak":{"columns":{"title":"Title","path":"Path"}}}}}'),re=JSON.parse('{"content-reports":{"label":{"contentreports":"Content Reports","byAuthorAndDate":"Par auteur et date","references":"RÃ©fÃ©rences","wipContent":"Brouillons","contentWaitingPublication":"Workflows","markedForDeletion":"MarquÃ©s pour suppression","byLanguage":"Par langue","pagesWithoutTitle":"Pages sans titre","pagesUntranslated":"Contenus non traduits","byVisibilityConditions":"Par conditions de visibilitÃ©","liveContents":"VisibilitÃ© en ligne","expiredContents":"Contenus expirÃ©s","futureContents":"Contenus programmÃ©s","byMetadata":"Par mÃ©tadonnÃ©es","pagesWithoutKeywords":"Pages sans mots-clÃ©s","pagesWithoutDescription":"Pages sans description","system":"SystÃ¨me","lockedContent":"Contenu verrouillÃ©","customCacheContent":"Cache personnalisÃ©","aclInheritanceBreak":"Rupture d\'hÃ©ritage ACL","overview":"Vue d\'ensemble du site"}},"contentReportReact":{"label":"Content Reports","header":"Content Reports - Site {{siteInfo}}","categories":{"overview":"AperÃ§u de site","content":"Contenus","languages":"Langues","visibility":"VisibilitÃ©","metadata":"MÃ©tadonnÃ©es","system":"SystÃ¨me"},"menu":{"overview":"Vue d\'ensemble du site","byAuthor":"Par auteur","byAllDate":"Par date","beforeDate":"Avant une date","byType":"Par type","byTypeDetailed":"Par type (dÃ©taillÃ©)","byStatus":"Par statut","byLanguage":"Langues","byLanguageDetailed":"DÃ©tail par langue","pagesWithoutTitle":"Pages sans titre","pagesWithoutKeywords":"Pages sans mots-clÃ©s","pagesWithoutDescription":"Pages sans description","contentFromAnotherSite":"Contenu d\'un autre site","byOrphanContent":"Contenu orphelin","lockedContent":"Contenu verrouillÃ©","wipContent":"Brouillons","contentWaitingPublication":"Workflows","customCacheContent":"Cache personnalisÃ©","aclInheritanceBreak":"Rupture d\'hÃ©ritage ACL","byAuthorAndDate":"Par auteur et date","pagesUntranslated":"Contenus non traduits","references":"RÃ©fÃ©rences","markedForDeletion":"MarquÃ©s pour suppression","liveContents":"VisibilitÃ© en ligne","expiredContents":"Contenus expirÃ©s","futureContents":"Contenus programmÃ©s"},"descriptions":{"overview":"Obtenez un aperÃ§u instantanÃ© des principaux indicateurs du site.","byAuthor":"Lister les contenus crÃ©Ã©s ou modifiÃ©s par des auteurs.","byAllDate":"Analyser l\'activitÃ© par mois et par type.","references":"Le rapport ne contient que le contenu utilisÃ© sur n\'importe quelle page. Le contenu inutilisÃ© des dossiers de contenu n\'apparaÃ®tra pas.","byAuthorAndDate":"Combinez date et auteur pour cibler une activitÃ© prÃ©cise.","wipContent":"Afficher le contenu marquÃ© comme Travail en cours (WIP). Ces Ã©lÃ©ments sont en cours de modification et ne sont pas prÃªts pour la publication.","contentWaitingPublication":"Lister tous les contenus ayant une tÃ¢che de workflow en attente. Cela inclut les contenus en attente de rÃ©vision, d\'approbation ou de publication.","markedForDeletion":"Afficher le contenu marquÃ© pour suppression. Ce rapport montre les Ã©lÃ©ments signalÃ©s pour suppression ainsi que le nombre de nÅ“uds enfants affectÃ©s.","lockedContent":"Afficher tous les contenus actuellement verrouillÃ©s par des utilisateurs. Ce rapport indique qui a crÃ©Ã© le contenu, qui l\'a verrouillÃ© et oÃ¹ il se trouve. Utile pour identifier les contenus qui doivent Ãªtre dÃ©verrouillÃ©s.","customCacheContent":"Afficher le contenu avec des paramÃ¨tres d\'expiration de cache personnalisÃ©s. Ce rapport identifie le contenu ayant une configuration de cache spÃ©cifique appliquÃ©e, affichant les valeurs d\'expiration et aidant Ã  optimiser les performances du cache.","aclInheritanceBreak":"Identifier le contenu oÃ¹ l\'hÃ©ritage des ACL (Liste de ContrÃ´le d\'AccÃ¨s) a Ã©tÃ© rompu. Ce rapport affiche les nÅ“uds ayant des permissions personnalisÃ©es dÃ©finies, remplaÃ§ant les permissions des nÅ“uds parents. Utile pour auditer les configurations de sÃ©curitÃ©.","pagesWithoutTitle":"Identifier les pages auxquelles il manque des titres dans une ou plusieurs langues. Le rapport affiche le chemin et indique quelles langues ont des titres dÃ©finis.","pagesUntranslated":"Identifier le contenu qui n\'a pas Ã©tÃ© traduit dans une langue spÃ©cifique. SÃ©lectionnez la langue cible pour trouver le contenu existant dans d\'autres langues mais dont la traduction est manquante.","liveContents":"Afficher le contenu avec des conditions de visibilitÃ© en ligne. Ce rapport affiche le contenu ayant des rÃ¨gles de visibilitÃ© conditionnelles appliquÃ©es, montrant les conditions, l\'Ã©tat de correspondance et l\'Ã©tat de visibilitÃ© actuel.","expiredContents":"Afficher le contenu avec des conditions de visibilitÃ© expirÃ©es. Ce rapport identifie le contenu ayant des dates de fin de visibilitÃ© dÃ©jÃ  passÃ©es, rendant le contenu invisible sur le site en ligne.","futureContents":"Afficher le contenu programmÃ© pour Ãªtre publiÃ© dans le futur. Ce rapport montre le contenu avec des dates de dÃ©but de visibilitÃ© qui n\'ont pas encore Ã©tÃ© atteintes, vous permettant de prÃ©visualiser les publications de contenu Ã  venir.","pagesWithoutKeywords":"Identifier les pages auxquelles il manque des mots-clÃ©s SEO. Ce rapport vous aide Ã  trouver les pages qui nÃ©cessitent des mÃ©tadonnÃ©es de mots-clÃ©s pour une meilleure optimisation des moteurs de recherche.","pagesWithoutDescription":"Identifier les pages auxquelles il manque des descriptions dans une ou plusieurs langues. Le rapport affiche le chemin et indique quelles langues ont des descriptions dÃ©finies pour un meilleur rÃ©fÃ©rencement et une meilleure accessibilitÃ©."},"fields":{"path":"Chemin","language":"Langue","typeSearch":{"label":"Type de recherche","pages":"Pages uniquement","content":"Tout le contenu"},"typeAuthor":{"label":"Auteur","created":"CrÃ©Ã© par","modified":"ModifiÃ© par"},"date":"Date","searchPath":"Chemin de recherche","searchByDate":"Filtrer par date","typeDateSearch":{"label":"Champ de date utilisÃ©","created":"Utiliser les dates de crÃ©ation","modified":"Utiliser les dates de derniÃ¨re modification"},"typeDateSearch.all":"Toutes les dates","typeDateSearch.beforeDate":"Avant la date","dateBegin":"Date de dÃ©but","dateEnd":"Date de fin","searchByAuthor":"Filtrer par auteur","username":"Nom d\'utilisateur","selectUser":"SÃ©lectionnez un utilisateur...","typeAuthorSearch":"Condition sur l\'auteur","originPath":"Chemin origine","destinationPath":"Chemin destination","dateRange":"Intervalle de dates","authorFilters":"Filtres par auteur"},"parameters":{"advanced":"ParamÃ¨tres avancÃ©s","keyPlaceholder":"Nom du paramÃ¨tre","valuePlaceholder":"Valeur du paramÃ¨tre"},"actions":{"runReport":"Lancer le rapport","addParameter":"Ajouter un paramÃ¨tre","remove":"Supprimer","browse":"Parcourir"},"common":{"loading":"Chargement...","report":"Rapport"},"states":{"loading":"Chargementâ€¦","lastUpdated":"DerniÃ¨re mise Ã  jour {{value}}"},"result":{"nbPages":"Pages","nbTemplates":"Modules dÃ©ployÃ©s","nbUsers":"Utilisateurs inscrits","nbContents":"NÅ“uds de contenu (jnt:content)","nbEditorialContents":"Contenus Ã©ditoriaux (jmix:editorialContent)","nbWorkflowTasks":"TÃ¢ches de workflow en attente","nbFiles":"Fichiers (jnt:file)","nbImages":"Images (jmix:image)","languages":"Langues disponibles","contentActivity":"ActivitÃ© de contenu (30 derniers jours)","newContentLast30Days":"Nouveau contenu","modifiedContentLast30Days":"Contenu modifiÃ©","publishedContentLast30Days":"Contenu publiÃ©","unpublishedNodes":"NÅ“uds non publiÃ©s","publishedNodes":"NÅ“uds publiÃ©s","averageTimeToPublish":"Temps moy. jusqu\'Ã  publication","days":"jours","topContributors":"Principaux contributeurs","items":"Ã©lÃ©ments","noContributorsData":"Aucune donnÃ©e de contributeur disponible","rawJson":"JSON brut","viewContent":"Voir"},"errors":{"requiredField":"Le champ \\"{{field}}\\" est obligatoire."},"reports":{"byAuthorAndDate":{"columns":{"title":"Titre","path":"Chemin","type":"Type","created":"CrÃ©Ã© le","modified":"ModifiÃ© le","published":"PubliÃ©","locked":"VerrouillÃ©"}},"references":{"columns":{"type":"Type","referencedPath":"Chemin du contenu rÃ©fÃ©rencÃ©","referencePath":"Chemin de la rÃ©fÃ©rence","lastModified":"Date de derniÃ¨re modification du contenu rÃ©fÃ©rencÃ©","link":"Lien vers la rÃ©fÃ©rence"}},"wipContent":{"columns":{"title":"Titre","type":"Type","wipStatus":"Statut WIP","path":"Chemin","page":"Page"}},"contentWaitingPublication":{"columns":{"title":"Titre","type":"Type","path":"Chemin","workflowStarted":"Workflow dÃ©marrÃ©","workflowName":"Nom du workflow","workflowType":"Type de workflow"}},"markedForDeletion":{"columns":{"title":"Titre","type":"Type","path":"Chemin","page":"Page","subNodesDeleted":"Nombre de nÅ“uds enfants marquÃ©s pour suppression","published":"PubliÃ©"}},"pagesUntranslated":{"columns":{"title":"Titre","type":"Type","path":"Chemin","date":"CrÃ©Ã© le"}},"liveContents":{"columns":{"name":"Nom","path":"Chemin","type":"Type","listOfConditions":"Liste des conditions","isConditionMatched":"Les conditions doivent correspondre","currentStatus":"Statut actuel"}},"expiredContents":{"columns":{"name":"Nom","path":"Chemin","type":"Type","expiresOn":"ExpirÃ© le"}},"futureContents":{"columns":{"name":"Nom","path":"Chemin","type":"Type","liveDate":"Date de mise en ligne"}},"pagesWithoutKeywords":{"columns":{"title":"Titre","pagePath":"Chemin de la page"}},"pagesWithoutDescription":{"columns":{"path":"Chemin de la page"}},"lockedContent":{"columns":{"title":"Titre","type":"Type","author":"Auteur","lockedBy":"VerrouillÃ© par","path":"Chemin"}},"customCacheContent":{"columns":{"title":"Titre","type":"Type","expiration":"Expiration","path":"Chemin"}},"aclInheritanceBreak":{"columns":{"title":"Titre","path":"Chemin"}}}}}');var oe=function(){[["en",ae],["fr",re]].forEach(function(e){var t=(0,o.A)(e,2),n=t[0],a=t[1],r=a.contentReportReact||a;r&&!ne().hasResourceBundle(n,"contentReportReact")&&ne().addResourceBundle(n,"contentReportReact",r,!0,!0);var i=a.contentReportReact||a;i&&!ne().hasResourceBundle(n,"contentReportReact")&&ne().addResourceBundle(n,"contentReportReact",i,!0,!0)})};function ie(){return le.apply(this,arguments)}function le(){return(le=(0,r.A)(l().mark(function e(){return l().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return oe(),e.next=1,ne().loadNamespaces("contentReportReact");case 1:ee();case 2:case"end":return e.stop()}},e)}))).apply(this,arguments)}function se(){a.registry.add("callback","contentReportReact",{targets:["jahiaApp-init:2"],callback:ie})}},1429:(e,t,n)=>{var a=n(5072),r=n(4582);"string"==typeof(r=r.__esModule?r.default:r)&&(r=[[e.id,r,""]]);a(r,{insert:"head",singleton:!1}),e.exports=r.locals||{}},1696:(e,t,n)=>{var a=n(5072),r=n(3983);"string"==typeof(r=r.__esModule?r.default:r)&&(r=[[e.id,r,""]]);a(r,{insert:"head",singleton:!1}),e.exports=r.locals||{}},3983:(e,t,n)=>{(t=n(6314)(!1)).push([e.id,'._3kY-t_XqXF4Pr38uLeJZ67{display:flex;flex-direction:column;min-height:100%}._2mCcJA35FvgooxkkLQFRuw{display:flex;gap:24px;padding:24px}._2QL3Qkxh5iTYDmhH9oDdZk{min-width:300px;max-width:300px;flex-shrink:0;overflow:hidden}._1ip2h9xUhrgwjszEAnRFGr{overflow-y:auto}._1ip2h9xUhrgwjszEAnRFGr .moonstone-accordion{display:flex;flex-direction:column;gap:4px}._1ip2h9xUhrgwjszEAnRFGr .moonstone-accordion-item{border:none;background:rgba(0,0,0,0);margin:0}._1ip2h9xUhrgwjszEAnRFGr .moonstone-accordion-item:not(:last-child){border-bottom:1px solid #e8ecf0}._1ip2h9xUhrgwjszEAnRFGr .moonstone-accordion-item-header{padding:12px 20px;background:rgba(0,0,0,0);border:none;font-weight:600;font-size:13px;color:#2c3e5d;letter-spacing:.3px;text-transform:uppercase;transition:background-color .2s ease,color .2s ease}._1ip2h9xUhrgwjszEAnRFGr .moonstone-accordion-item-header:hover{background-color:rgba(0,160,227,.05);color:#00a0e3}._1ip2h9xUhrgwjszEAnRFGr .moonstone-accordion-item-header[aria-expanded=true]{background-color:rgba(0,160,227,.08);color:#00a0e3}._1ip2h9xUhrgwjszEAnRFGr .moonstone-accordion-item-content{padding:8px 0 12px 0;background:rgba(0,0,0,0)}._1ip2h9xUhrgwjszEAnRFGr .moonstone-accordion-item-icon{color:#5c6f90;transition:transform .2s ease}._1ip2h9xUhrgwjszEAnRFGr .moonstone-accordion-item-header[aria-expanded=true] .moonstone-accordion-item-icon{color:#00a0e3}._2sm-GqnwQtvZBCa6G_g1EG{display:flex;flex-direction:column;padding:0;gap:2px}._1woktupzhpWqXbCyOHqmE0{display:block;width:100%;text-align:left;padding:10px 20px 10px 32px;margin:0;border:none;border-radius:0;cursor:pointer;background-color:rgba(0,0,0,0);color:#3e5471;font-weight:400;font-size:14px;transition:all .2s ease;position:relative}._1woktupzhpWqXbCyOHqmE0::before{content:"";position:absolute;left:0;top:0;bottom:0;width:3px;background-color:rgba(0,0,0,0);transition:background-color .2s ease}._1woktupzhpWqXbCyOHqmE0:hover{background-color:rgba(0,160,227,.06);color:#00a0e3;padding-left:34px}._1woktupzhpWqXbCyOHqmE0:first-child{margin-top:0}.Rnu6c1M4aCByZjgzdKuy8{background-color:rgba(0,160,227,.12);color:#00a0e3;font-weight:600;padding-left:34px}.Rnu6c1M4aCByZjgzdKuy8::before{background-color:#00a0e3}.Rnu6c1M4aCByZjgzdKuy8:hover{background-color:rgba(0,160,227,.16)}.VsHWyAuijOv0uOrE4JanI{flex:1;display:flex;flex-direction:column;gap:24px;min-width:0}._3Naax7C13h_qLAJftl9d3z{width:100%;display:flex;flex-direction:column;gap:24px;padding:24px}.yQ7Om36FU-jOK8uGul9XH{width:100%;padding:0 24px 24px 24px}._1BYDrcozrIdv8wfGSIxAAm{display:flex;flex-direction:column;gap:16px}._3OzsgcThE15JXXqEhL4_7m{display:flex;align-items:center;gap:12px;margin-top:12px}.O3ysIPAYeqeZ935kVTzJt{padding:8px 18px;border-radius:4px;border:none;background-color:#00a0e3;color:#fff;cursor:pointer;font-weight:600}.O3ysIPAYeqeZ935kVTzJt:disabled{opacity:.6;cursor:wait}._38UnWkQp5DfxrUpZU6Xtic{margin-top:16px;padding:12px;border-radius:4px;background-color:#eef5ff;color:#1b335d}._2hI6uuWBmgHYCtV6UzYvB5{margin-top:16px;padding:12px;border-radius:4px;background-color:#fdecea;color:#a02824}._35zAcIE9Avyj9e2xsxLyeX{margin-top:20px;overflow-x:auto}._1g12L4jZzzIAkz8tCX-wMr{width:100%;border-collapse:collapse;font-size:14px}._1g12L4jZzzIAkz8tCX-wMr th{text-align:left;padding:8px;border-bottom:1px solid #dbe3f3;background-color:#f2f5fb}._1g12L4jZzzIAkz8tCX-wMr td{padding:8px;border-bottom:1px solid #eef2fb;vertical-align:top}.yapoQwoVkt-jeuZSuzOPA{margin-top:18px;background-color:#0f172a;color:#f8fafc;padding:16px;border-radius:6px;overflow-x:auto;font-family:monospace;font-size:13px}._3DoYI074DwxmCboPrSoJW7{display:flex;flex-direction:column;gap:24px}.mLxyTuT1TUvGdTV2CxUdS{display:flex;flex-direction:column;gap:12px}.TBpbDYrzhrb7mJr5zw9OS{display:flex;flex-wrap:wrap;align-items:center;gap:12px}._3aRSOcDHAJnrC5ejCGpBBn{display:flex;align-items:center;gap:8px}._28EkzrTpgZMkP_1giw6Inw{display:flex;align-items:center;gap:12px;flex-wrap:wrap}.X3A3IsmuSsanERHkSCisA{color:#5c6f90;font-size:12px}._3W_47XulmLGy3hcLhwht5X{display:flex;flex-direction:column;gap:8px}._2rCZoencufjvfQLVS4RmUL{color:#12264d;font-size:14px;font-weight:600}._1BFoWKT4ZNIiHMKm0ZpjKw{display:flex;align-items:center;gap:12px}._3p4JmYDzKvd3VUiuUHhSJS{display:flex;gap:12px}.X3ENZgRgBlq_pBQFQChzG{flex:1;padding:8px 10px;border:1px solid #dbe3f3;border-radius:4px;font-size:14px}._1dU-8sZ1T3VW7Wd9i949v{padding:8px 18px;border-radius:4px;border:1px solid #b0bfdc;background-color:#fff;color:#036;cursor:pointer;font-weight:600}',""]),t.locals={pageContainer:"_3kY-t_XqXF4Pr38uLeJZ67",panelLayout:"_2mCcJA35FvgooxkkLQFRuw",menuPaper:"_2QL3Qkxh5iTYDmhH9oDdZk",menu:"_1ip2h9xUhrgwjszEAnRFGr",categoryReports:"_2sm-GqnwQtvZBCa6G_g1EG",menuButton:"_1woktupzhpWqXbCyOHqmE0",menuButtonActive:"Rnu6c1M4aCByZjgzdKuy8",content:"VsHWyAuijOv0uOrE4JanI",contentFullWidth:"_3Naax7C13h_qLAJftl9d3z",fullWidthResults:"yQ7Om36FU-jOK8uGul9XH",form:"_1BYDrcozrIdv8wfGSIxAAm",actions:"_3OzsgcThE15JXXqEhL4_7m",buttonPrimary:"O3ysIPAYeqeZ935kVTzJt",info:"_38UnWkQp5DfxrUpZU6Xtic",error:"_2hI6uuWBmgHYCtV6UzYvB5",tableWrapper:"_35zAcIE9Avyj9e2xsxLyeX",table:"_1g12L4jZzzIAkz8tCX-wMr",jsonBlock:"yapoQwoVkt-jeuZSuzOPA",sectionCard:"_3DoYI074DwxmCboPrSoJW7",fieldGroup:"mLxyTuT1TUvGdTV2CxUdS",inlineFields:"TBpbDYrzhrb7mJr5zw9OS",checkboxRow:"_3aRSOcDHAJnrC5ejCGpBBn",pathRow:"_28EkzrTpgZMkP_1giw6Inw",helperText:"X3A3IsmuSsanERHkSCisA",formRow:"_3W_47XulmLGy3hcLhwht5X",label:"_2rCZoencufjvfQLVS4RmUL",inline:"_1BFoWKT4ZNIiHMKm0ZpjKw",inputRow:"_3p4JmYDzKvd3VUiuUHhSJS",input:"X3ENZgRgBlq_pBQFQChzG",browseButton:"_1dU-8sZ1T3VW7Wd9i949v"},e.exports=t},4582:(e,t,n)=>{(t=n(6314)(!1)).push([e.id,"._3T4SeV8dRe4sLrCk7enCHZ{margin-top:24px}._3T4SeV8dRe4sLrCk7enCHZ .moonstone-table{table-layout:auto !important}._3T4SeV8dRe4sLrCk7enCHZ .moonstone-table-row{height:auto !important;min-height:48px !important}._3T4SeV8dRe4sLrCk7enCHZ .moonstone-table-body-cell{height:auto !important;min-height:48px !important;vertical-align:middle !important;padding:12px 16px !important}._1iLKY5zzRFR4vMuXBxyfM{display:flex;justify-content:space-between;align-items:center;margin-bottom:16px}._26_auEIyi7GwSjEAuPV0_r{display:flex;gap:8px}._3YNdjbZ-8ohCz57Vxufjg2{width:100%;table-layout:auto}._3YNdjbZ-8ohCz57Vxufjg2 td,._3YNdjbZ-8ohCz57Vxufjg2 th{word-wrap:break-word;overflow-wrap:break-word}._3YNdjbZ-8ohCz57Vxufjg2 tr{height:auto !important;min-height:48px !important}._3YNdjbZ-8ohCz57Vxufjg2 tbody td{vertical-align:middle;height:auto !important;min-height:48px !important;padding:12px 16px}._30Jkq25qEknF0ryHMis9Ik{cursor:pointer;user-select:none;transition:background-color .2s ease}._30Jkq25qEknF0ryHMis9Ik:hover{background-color:rgba(0,0,0,.04)}._29ogfKB1NXHVT9s-cBZgZ8{display:flex;align-items:center;gap:8px;justify-content:space-between;width:100%}.kbY_yys5Ugdxg_l0189Ul{font-size:10px;color:#5c6f90;margin-left:4px}._2oRu1g4Q7dDx4ra-ymivbC{font-weight:500;max-width:300px;word-break:break-word}._6-QOjGUq2fzN-9qlqOF4h{font-family:monospace;font-size:12px;word-break:break-word;overflow-wrap:break-word;white-space:normal}._3lqiXKFNqxgPoZcy9JX-fZ{color:var(--color-primary, #007bff);text-decoration:none;display:inline-flex;align-items:center;gap:4px}._3lqiXKFNqxgPoZcy9JX-fZ:hover{text-decoration:underline}._3BYr47B8XV2EOuGSmwpUcp{color:var(--color-primary, #007bff);text-decoration:none;display:inline-flex;align-items:center;gap:4px}._3BYr47B8XV2EOuGSmwpUcp:hover{text-decoration:underline}._3Iix5sTefMMTUeKZwrvjA3{white-space:nowrap;font-size:12px}._2WbpVZqoLkbAhMEMc0SoK0{text-align:center;font-size:16px}._13vU92D_eZ28JTCEN-gzWw{text-align:center;font-size:18px}._2pSSedIVHghswCTzVNHhlR{color:#22863a;font-weight:bold;font-size:20px}._38z8r1IQDRciSVE9EON1ZT{color:#d73a49;font-weight:bold;font-size:20px}._2m0nqA7zejTdYd2bQiLSIi{white-space:normal !important;word-break:break-word;overflow-wrap:break-word;max-width:none;min-width:200px;min-height:48px;vertical-align:middle !important;height:auto !important;padding:12px 16px !important}._2m0nqA7zejTdYd2bQiLSIi span{display:block;white-space:normal !important;word-wrap:break-word;overflow-wrap:break-word}._27Tw1A6sp_ey8NOVdjSSvc{padding:32px;text-align:center;color:var(--color-text-secondary, #999)}",""]),t.locals={tableContainer:"_3T4SeV8dRe4sLrCk7enCHZ",resultsHeader:"_1iLKY5zzRFR4vMuXBxyfM",exportButtons:"_26_auEIyi7GwSjEAuPV0_r",table:"_3YNdjbZ-8ohCz57Vxufjg2",sortableHeader:"_30Jkq25qEknF0ryHMis9Ik",headerContent:"_29ogfKB1NXHVT9s-cBZgZ8",sortIcon:"kbY_yys5Ugdxg_l0189Ul",titleCell:"_2oRu1g4Q7dDx4ra-ymivbC",pathCell:"_6-QOjGUq2fzN-9qlqOF4h",pathLink:"_3lqiXKFNqxgPoZcy9JX-fZ",linkWithIcon:"_3BYr47B8XV2EOuGSmwpUcp",dateCell:"_3Iix5sTefMMTUeKZwrvjA3",lockCell:"_2WbpVZqoLkbAhMEMc0SoK0",booleanCell:"_13vU92D_eZ28JTCEN-gzWw",booleanTrue:"_2pSSedIVHghswCTzVNHhlR",booleanFalse:"_38z8r1IQDRciSVE9EON1ZT",htmlCell:"_2m0nqA7zejTdYd2bQiLSIi",noResults:"_27Tw1A6sp_ey8NOVdjSSvc"},e.exports=t}}]);
//# sourceMappingURL=415.jahia.a7d675.js.map